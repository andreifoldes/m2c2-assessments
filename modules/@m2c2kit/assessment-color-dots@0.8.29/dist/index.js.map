{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import {\n  Game,\n  Action,\n  Scene,\n  Shape,\n  Label,\n  Transition,\n  TransitionDirection,\n  WebColors,\n  RandomDraws,\n  GameParameters,\n  GameOptions,\n  TrialSchema,\n  Timer,\n  Easings,\n  RgbaColor,\n  Equal,\n  Sprite,\n  Point,\n  Constants,\n  Translation,\n  LabelHorizontalAlignmentMode,\n  M2Error,\n} from \"@m2c2kit/core\";\nimport {\n  Button,\n  CountdownScene,\n  Grid,\n  Instructions,\n  InstructionsOptions,\n  LocalePicker,\n} from \"@m2c2kit/addons\";\n\n/**\n * Color Dots is cued-recall, item-location memory binding task, where after\n * viewing 3 dots for a brief period of time, participants report: (1) the\n * color at a cued location; (2) the location of a cued color.\n */\nclass ColorDots extends Game {\n  constructor() {\n    /**\n     * These are configurable game parameters and their defaults.\n     * Each game parameter should have a type, default (this is the default\n     * value), and a description.\n     */\n    const defaultParameters: GameParameters = {\n      fixation_duration_ms: {\n        default: 500,\n        description: \"How long fixation scene is shown, milliseconds.\",\n        type: \"number\",\n      },\n      dot_colors: {\n        type: \"array\",\n        description: \"Array of colors for dots.\",\n        items: {\n          type: \"object\",\n          properties: {\n            colorName: {\n              type: \"string\",\n              description: \"Human-friendly name of color.\",\n            },\n            rgbaColor: {\n              type: \"array\",\n              description: \"Color as array, [r,g,b,a].\",\n              items: {\n                type: \"number\",\n              },\n            },\n          },\n        },\n        default: [\n          { colorName: \"black\", rgbaColor: [0, 0, 0, 1] },\n          { colorName: \"green\", rgbaColor: [0, 158, 115, 1] },\n          { colorName: \"yellow\", rgbaColor: [240, 228, 66, 1] },\n          { colorName: \"blue\", rgbaColor: [0, 114, 178, 1] },\n          { colorName: \"orange\", rgbaColor: [213, 94, 0, 1] },\n          { colorName: \"pink\", rgbaColor: [204, 121, 167, 1] },\n          // These two additional colors were in the original specification\n          // but not implemented: [230, 159, 0, 1], [86, 180, 233, 1]\n        ],\n      },\n      dot_diameter: {\n        default: 48,\n        description: \"Diameter of dots.\",\n        type: \"number\",\n      },\n      number_of_dots: {\n        default: 3,\n        description: \"How many dots to present. Must be at least 3.\",\n        type: \"integer\",\n      },\n      dot_present_duration_ms: {\n        default: 1000,\n        description: \"How long the dots are shown, milliseconds.\",\n        type: \"number\",\n      },\n      dot_blank_duration_ms: {\n        default: 750,\n        description:\n          \"How long to show a blank square after dots are removed, milliseconds.\",\n        type: \"number\",\n      },\n      color_selected_hold_duration_ms: {\n        default: 500,\n        description:\n          \"How long to show a square with the dot colored by the user's choice, before advancing to next scene, milliseconds.\",\n        type: \"number\",\n      },\n      number_of_trials: {\n        default: 5,\n        description: \"How many trials to run.\",\n        type: \"integer\",\n      },\n      show_trials_complete_scene: {\n        default: true,\n        type: \"boolean\",\n        description:\n          \"After the final trial, should a completion scene be shown? Otherwise, the game will immediately end.\",\n      },\n      instruction_type: {\n        default: \"long\",\n        description: \"Type of instructions to show, 'short' or 'long'.\",\n        type: \"string\",\n        enum: [\"short\", \"long\"],\n      },\n      instructions: {\n        default: null,\n        type: [\"object\", \"null\"],\n        description:\n          \"When non-null, an InstructionsOptions object that will completely override the built-in instructions.\",\n      },\n      show_quit_button: {\n        type: \"boolean\",\n        default: false,\n        description: \"Should the activity quit button be shown?\",\n      },\n      show_fps: {\n        type: \"boolean\",\n        default: false,\n        description: \"Should the FPS be shown?\",\n      },\n      show_locale_picker: {\n        type: \"boolean\",\n        default: false,\n        description:\n          \"Should the icon that allows the participant to switch the locale be shown?\",\n      },\n    };\n\n    /**\n     * This describes all the data that will be generated by the assessment.\n     * At runtime, when a trial completes, the data will be returned to the\n     * session with a callback, along with this schema transformed into\n     * JSON Schema.\n     */\n    const colorDotsTrialSchema: TrialSchema = {\n      activity_begin_iso8601_timestamp: {\n        type: \"string\",\n        format: \"date-time\",\n        description:\n          \"ISO 8601 timestamp at the beginning of the game activity.\",\n      },\n      trial_begin_iso8601_timestamp: {\n        type: [\"string\", \"null\"],\n        format: \"date-time\",\n        description:\n          \"ISO 8601 timestamp at the beginning of the trial. Null if trial was skipped.\",\n      },\n      trial_end_iso8601_timestamp: {\n        type: [\"string\", \"null\"],\n        format: \"date-time\",\n        description:\n          \"ISO 8601 timestamp at the end of the trial (when user presses 'Done' after placing the dot). Null if trial was skipped.\",\n      },\n      trial_index: {\n        type: [\"integer\", \"null\"],\n        description: \"Index of the trial within this assessment, 0-based.\",\n      },\n      square_side_length: {\n        type: [\"number\", \"null\"],\n        description:\n          \"Length of square side, in pixels. This is the square in which the dots are shown. Null if trial was skipped.\",\n      },\n      presented_dots: {\n        description:\n          \"Configuration of dots presented to the user. Null if trial was skipped.\",\n        type: [\"array\", \"null\"],\n        items: {\n          type: \"object\",\n          properties: {\n            color_name: {\n              type: \"string\",\n              description: \"Human-friendly name of color.\",\n            },\n            rgba_color: {\n              type: \"array\",\n              description: \"Color as array, [r,g,b,a].\",\n              items: {\n                type: \"number\",\n              },\n            },\n            location: {\n              type: \"object\",\n              description: \"Location of dot.\",\n              properties: {\n                x: {\n                  type: \"number\",\n                  description: \"X coordinate of dot.\",\n                },\n                y: {\n                  type: \"number\",\n                  description: \"Y coordinate of dot.\",\n                },\n              },\n            },\n          },\n        },\n      },\n      color_target_dot_index: {\n        description:\n          \"Index (0-based) of presented dot whose color the user was asked to recall. Null if trial was skipped.\",\n        type: [\"integer\", \"null\"],\n      },\n      color_selected: {\n        description: \"Color selected by user. Null if trial was skipped.\",\n        type: [\"object\", \"null\"],\n        properties: {\n          color_name: {\n            type: \"string\",\n            description: \"Human-friendly name of color.\",\n          },\n          rgba_color: {\n            type: \"array\",\n            description: \"Color as array, [r,g,b,a].\",\n            items: {\n              type: \"number\",\n            },\n          },\n        },\n      },\n      color_selected_correct: {\n        type: [\"boolean\", \"null\"],\n        description:\n          \"Was the color selected by the user correct? Null if trial was skipped.\",\n      },\n      location_target_dot_index: {\n        description:\n          \"Index (0-based) of presented dot whose location the user was asked to recall. Null if trial was skipped.\",\n        type: [\"integer\", \"null\"],\n      },\n      location_selected: {\n        description: \"Location selected by user. Null if trial was skipped.\",\n        type: [\"object\", \"null\"],\n        properties: {\n          x: {\n            type: \"number\",\n            description: \"X coordinate of dot.\",\n          },\n          y: {\n            type: \"number\",\n            description: \"Y coordinate of dot.\",\n          },\n        },\n      },\n      location_selected_delta: {\n        type: [\"number\", \"null\"],\n        description:\n          \"Euclidean distance between location target dot and the location selected by user. Null if trial was skipped.\",\n      },\n      color_selection_response_time_ms: {\n        type: [\"number\", \"null\"],\n        description:\n          \"Milliseconds from the beginning of color selection task until the user taps the done button. Null if trial was skipped.\",\n      },\n      location_selection_response_time_ms: {\n        type: [\"number\", \"null\"],\n        description:\n          \"Milliseconds from the beginning of location selection task until the user taps the done button. Null if trial was skipped.\",\n      },\n      quit_button_pressed: {\n        type: \"boolean\",\n        description: \"Was the quit button pressed?\",\n      },\n    };\n\n    const translation: Translation = {\n      configuration: {\n        baseLocale: \"en-US\",\n      },\n      \"en-US\": {\n        localeName: \"English\",\n        INSTRUCTIONS_TITLE: \"Color Dots\",\n        SHORT_INSTRUCTIONS_TEXT_PAGE_1:\n          \"For this activity, try to remember the location and color of 3 dots.\",\n        INSTRUCTIONS_TEXT_PAGE_1:\n          \"For this activity, try to remember the location and color of 3 dots.\",\n        INSTRUCTIONS_TEXT_PAGE_2:\n          \"Choose the color of the dot from the options at the bottom of the screen.\",\n        INSTRUCTIONS_TEXT_PAGE_3:\n          \"Next you are asked to place another dot. Touch the screen where you remember seeing the dot.\",\n        WHAT_COLOR: \"What color was this dot?\",\n        WHERE_WAS: \"Where was this dot?\",\n        TOUCH_TO_MOVE: \"Touch the screen to move the dot\",\n        DONE_BUTTON_TEXT: \"Done\",\n        START_BUTTON_TEXT: \"START\",\n        NEXT_BUTTON_TEXT: \"Next\",\n        BACK_BUTTON_TEXT: \"Back\",\n        GET_READY_COUNTDOWN_TEXT: \"GET READY!\",\n        TRIALS_COMPLETE_SCENE_TEXT: \"This activity is complete.\",\n        TRIALS_COMPLETE_SCENE_BUTTON_TEXT: \"OK\",\n      },\n      // cSpell:disable (for VS Code extension, Code Spell Checker)\n      \"es-MX\": {\n        localeName: \"Español\",\n        INSTRUCTIONS_TITLE: \"Puntos de Color\",\n        SHORT_INSTRUCTIONS_TEXT_PAGE_1:\n          \"Para esta actividad, intenta recordar la ubicación y el color de 3 puntos.\",\n        INSTRUCTIONS_TEXT_PAGE_1:\n          \"Para esta actividad, intenta recordar la ubicación y el color de 3 puntos.\",\n        INSTRUCTIONS_TEXT_PAGE_2:\n          \"Escoja el color del punto de las opciones en la parte de abajo de la pantalla.\",\n        INSTRUCTIONS_TEXT_PAGE_3:\n          \"Luego, se te pedirá que coloques otro punto. Toca la pantalla donde recuerdas haber visto el punto.\",\n        WHAT_COLOR: \"¿De qué color era este punto?\",\n        WHERE_WAS: \"¿Dónde estaba este punto?\",\n        TOUCH_TO_MOVE: \"Toca la pantalla para mover el punto\",\n        DONE_BUTTON_TEXT: \"Listo\",\n        START_BUTTON_TEXT: \"COMENZAR\",\n        NEXT_BUTTON_TEXT: \"Siguiente\",\n        BACK_BUTTON_TEXT: \"Atrás\",\n        GET_READY_COUNTDOWN_TEXT: \"PREPÁRESE\",\n        TRIALS_COMPLETE_SCENE_TEXT: \"Esta actividad está completa.\",\n        TRIALS_COMPLETE_SCENE_BUTTON_TEXT: \"OK\",\n      },\n      // cSpell:enable\n    };\n\n    const options: GameOptions = {\n      name: \"Color Dots\",\n      /**\n       * This id must match the property m2c2kit.assessmentId in package.json\n       */\n      id: \"color-dots\",\n      publishUuid: \"72a1ef60-75c0-47b3-921c-aaee72cca9da\",\n      version: \"__PACKAGE_JSON_VERSION__\",\n      moduleMetadata: Constants.MODULE_METADATA_PLACEHOLDER,\n      translation: translation,\n      shortDescription:\n        \"Color Dots is cued-recall, item-location memory \\\nbinding task, where after viewing 3 dots for a brief period of time, \\\nparticipants report: (1) the color at a cued location; (2) the location of \\\na cued color.\",\n      longDescription:\n        \"Participants are asked to remember the location and color of three \\\nbriefly presented, and uniquely colored dots. Each trial of this task \\\nrequires two responses (subsequently referred to as stage 1 and stage 2 in \\\nthe list of outcome variables): (1) reporting the color at a cued location; \\\n(2) reporting the location where a circular of a specified color previously \\\nappeared.\",\n      showFps: defaultParameters.show_fps.default,\n      width: 400,\n      height: 800,\n      bodyBackgroundColor: WebColors.White,\n      trialSchema: colorDotsTrialSchema,\n      parameters: defaultParameters,\n      fonts: [\n        {\n          fontName: \"roboto\",\n          url: \"fonts/roboto/Roboto-Regular.ttf\",\n        },\n      ],\n      images: [\n        {\n          imageName: \"cd1\",\n          height: 450,\n          width: 350,\n          url: \"images/cd1.png\",\n        },\n        {\n          imageName: \"cd2\",\n          height: 450,\n          width: 350,\n          url: \"images/cd2.png\",\n          localize: true,\n        },\n        {\n          imageName: \"cd3\",\n          height: 450,\n          width: 350,\n          url: \"images/cd3.png\",\n          localize: true,\n        },\n        {\n          imageName: \"circle-x\",\n          height: 32,\n          width: 32,\n          // the svg is from evericons and is licensed under CC0 1.0\n          // Universal (Public Domain). see https://www.patreon.com/evericons\n          url: \"images/circle-x.svg\",\n        },\n      ],\n    };\n\n    super(options);\n  }\n\n  override async initialize() {\n    await super.initialize();\n    // just for convenience, alias the variable game to \"this\"\n    // (even though eslint doesn't like it)\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const game = this;\n\n    const SQUARE_SIDE_LENGTH = 350;\n\n    // ==============================================================\n\n    if (game.getParameter<boolean>(\"show_quit_button\")) {\n      const quitSprite = new Sprite({\n        imageName: \"circle-x\",\n        position: { x: 380, y: 20 },\n        isUserInteractionEnabled: true,\n      });\n      game.addFreeNode(quitSprite);\n      quitSprite.onTapDown((e) => {\n        game.removeAllFreeNodes();\n        e.handled = true;\n        const blankScene = new Scene();\n        game.addScene(blankScene);\n        game.presentScene(blankScene);\n        game.addTrialData(\"quit_button_pressed\", true);\n        game.trialComplete();\n        game.cancel();\n      });\n    }\n\n    let localePicker: LocalePicker;\n    if (game.getParameter<boolean>(\"show_locale_picker\")) {\n      localePicker = new LocalePicker();\n      game.addFreeNode(localePicker);\n    }\n\n    // ==============================================================\n    // These user input variables are referenced across scenes, thus\n    // we must define them in this scope, rather than in the\n    // scene.onSetup() function.\n    interface ColorSelected {\n      color_name: string;\n      rgba_color: RgbaColor;\n    }\n    let colorSelected: ColorSelected;\n    let selectedRgba: RgbaColor | undefined;\n\n    // ==============================================================\n    // SCENES: instructions\n    let instructionsScenes: Array<Scene>;\n\n    const customInstructions = game.getParameter<InstructionsOptions | null>(\n      \"instructions\",\n    );\n    if (customInstructions) {\n      instructionsScenes = Instructions.create(customInstructions);\n    } else {\n      switch (game.getParameter(\"instruction_type\")) {\n        case \"short\": {\n          instructionsScenes = Instructions.create({\n            instructionScenes: [\n              {\n                title: \"INSTRUCTIONS_TITLE\",\n                text: \"SHORT_INSTRUCTIONS_TEXT_PAGE_1\",\n                imageName: \"cd1\",\n                imageAboveText: false,\n                textFontSize: 24,\n                titleFontSize: 30,\n                textVerticalBias: 0.2,\n                nextButtonText: \"START_BUTTON_TEXT\",\n                nextButtonBackgroundColor: WebColors.Green,\n              },\n            ],\n          });\n          break;\n        }\n        case \"long\": {\n          instructionsScenes = Instructions.create({\n            instructionScenes: [\n              {\n                title: \"INSTRUCTIONS_TITLE\",\n                text: \"INSTRUCTIONS_TEXT_PAGE_1\",\n                imageName: \"cd1\",\n                imageAboveText: false,\n                textFontSize: 24,\n                titleFontSize: 30,\n                textVerticalBias: 0.2,\n                nextButtonText: \"NEXT_BUTTON_TEXT\",\n                backButtonText: \"BACK_BUTTON_TEXT\",\n              },\n              {\n                title: \"INSTRUCTIONS_TITLE\",\n                text: \"INSTRUCTIONS_TEXT_PAGE_2\",\n                imageName: \"cd2\",\n                imageAboveText: false,\n                textFontSize: 24,\n                titleFontSize: 30,\n                textVerticalBias: 0.15,\n                nextButtonText: \"NEXT_BUTTON_TEXT\",\n                backButtonText: \"BACK_BUTTON_TEXT\",\n              },\n              {\n                title: \"INSTRUCTIONS_TITLE\",\n                text: \"INSTRUCTIONS_TEXT_PAGE_3\",\n                imageName: \"cd3\",\n                imageAboveText: false,\n                imageMarginTop: 8,\n                textFontSize: 24,\n                titleFontSize: 30,\n                textVerticalBias: 0.15,\n                nextButtonText: \"START_BUTTON_TEXT\",\n                nextButtonBackgroundColor: WebColors.Green,\n                backButtonText: \"BACK_BUTTON_TEXT\",\n              },\n            ],\n          });\n          break;\n        }\n        default: {\n          throw new M2Error(\"invalid value for instruction_type\");\n        }\n      }\n    }\n    instructionsScenes[0].onAppear(() => {\n      // in case user quits before starting a trial, record the\n      // timestamp\n      game.addTrialData(\n        \"activity_begin_iso8601_timestamp\",\n        this.beginIso8601Timestamp,\n      );\n    });\n    game.addScenes(instructionsScenes);\n\n    // ==============================================================\n    // SCENE: countdown. Show 3 second countdown.\n    const countdownScene = new CountdownScene({\n      milliseconds: 3000,\n      text: \"GET_READY_COUNTDOWN_TEXT\",\n      zeroDwellMilliseconds: 1000,\n      transition: Transition.none(),\n    });\n    game.addScene(countdownScene);\n\n    interface Dot {\n      x: number;\n      y: number;\n      rgbaColor: RgbaColor;\n      colorName: string;\n    }\n\n    interface ScreenDot extends Dot {\n      shape: Shape;\n    }\n\n    interface TrialConfiguration {\n      dots: Array<Dot>;\n      colorSelectionDotIndex: number;\n      locationSelectionDotIndex: number;\n    }\n\n    const trialConfigurations: Array<TrialConfiguration> = [];\n    const numberOfDots = game.getParameter<number>(\"number_of_dots\");\n    const dotColors =\n      game.getParameter<Array<{ colorName: string; rgbaColor: RgbaColor }>>(\n        \"dot_colors\",\n      );\n    const dotDiameter = game.getParameter<number>(\"dot_diameter\");\n    const numberOfColors = dotColors.length;\n\n    function positionTooCloseToOtherDots(\n      x: number,\n      y: number,\n      dots: Array<Dot>,\n    ) {\n      for (let i = 0; i < dots.length; i++) {\n        const dist = Math.sqrt(\n          Math.pow(x - dots[i].x, 2) + Math.pow(y - dots[i].y, 2),\n        );\n        if (dist < dotDiameter * 3 + 0.25 * dotDiameter) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    for (let i = 0; i < game.getParameter<number>(\"number_of_trials\"); i++) {\n      // we clone the dotColors array because we mutate the cloned array\n      // (availableColors) to avoid re-using colors in the same trial\n      const availableColors: { colorName: string; rgbaColor: RgbaColor }[] =\n        JSON.parse(JSON.stringify(dotColors));\n      const dots = new Array<Dot>();\n      for (let j = 0; j < numberOfDots; j++) {\n        let x: number;\n        let y: number;\n        do {\n          // +4, -4 to have some small margin between dot and square\n          x = RandomDraws.SingleFromRange(\n            0 + dotDiameter / 2 + 4,\n            SQUARE_SIDE_LENGTH - dotDiameter / 2 - 4,\n          );\n          y = RandomDraws.SingleFromRange(\n            0 + dotDiameter / 2 + 4,\n            SQUARE_SIDE_LENGTH - dotDiameter / 2 - 4,\n          );\n        } while (positionTooCloseToOtherDots(x, y, dots));\n\n        const colorIndex = RandomDraws.SingleFromRange(\n          0,\n          availableColors.length - 1,\n        );\n        const dotColor = availableColors.splice(colorIndex, 1)[0];\n        const dot = {\n          x,\n          y,\n          rgbaColor: dotColor.rgbaColor,\n          colorName: dotColor.colorName,\n        };\n        dots.push(dot);\n      }\n\n      const colorSelectionDotIndex = RandomDraws.SingleFromRange(\n        0,\n        dots.length - 1,\n      );\n\n      trialConfigurations.push({\n        colorSelectionDotIndex: colorSelectionDotIndex,\n        // which dot is chosen for the location selection task is not yet\n        // known, because it depends on user input to color selection task.\n        locationSelectionDotIndex: NaN,\n        dots: dots,\n      });\n    }\n\n    // ==============================================================\n    // SCENE: fixation. Show cross, then advance after XXXX\n    // milliseconds (as defined in fixation_duration_ms parameter)\n    const fixationScene = new Scene();\n    game.addScene(fixationScene);\n\n    const fixationSceneSquare = new Shape({\n      rect: { size: { width: SQUARE_SIDE_LENGTH, height: SQUARE_SIDE_LENGTH } },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Gray,\n      lineWidth: 4,\n      position: { x: 200, y: 300 },\n    });\n    fixationScene.addChild(fixationSceneSquare);\n\n    const plusLabel = new Label({\n      text: \"+\",\n      fontSize: 32,\n      fontColor: WebColors.Black,\n      localize: false,\n    });\n    fixationSceneSquare.addChild(plusLabel);\n\n    fixationScene.onSetup(() => {\n      fixationScene.run(\n        Action.sequence([\n          Action.wait({ duration: game.getParameter(\"fixation_duration_ms\") }),\n          Action.custom({\n            callback: () => {\n              game.presentScene(dotPresentationScene);\n            },\n          }),\n        ]),\n      );\n    });\n\n    fixationScene.onAppear(() => {\n      game.addTrialData(\n        \"activity_begin_iso8601_timestamp\",\n        this.beginIso8601Timestamp,\n      );\n      game.addTrialData(\n        \"trial_begin_iso8601_timestamp\",\n        new Date().toISOString(),\n      );\n    });\n\n    // ==============================================================\n    // SCENE: dotPresentation.\n    const dotPresentationScene = new Scene();\n    game.addScene(dotPresentationScene);\n\n    const dotPresentationSceneSquare = new Shape({\n      rect: { size: { width: SQUARE_SIDE_LENGTH, height: SQUARE_SIDE_LENGTH } },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Gray,\n      lineWidth: 4,\n      position: { x: 200, y: 300 },\n    });\n    dotPresentationScene.addChild(dotPresentationSceneSquare);\n\n    const screenDots = new Array<ScreenDot>();\n\n    dotPresentationScene.onSetup(() => {\n      screenDots.length = 0;\n      const trialConfiguration = trialConfigurations[game.trialIndex];\n\n      for (const dot of trialConfiguration.dots) {\n        const screenDot: ScreenDot = {\n          x: dot.x,\n          y: dot.y,\n          rgbaColor: dot.rgbaColor,\n          colorName: dot.colorName,\n          shape: new Shape({\n            circleOfRadius: dotDiameter / 2,\n            fillColor: dot.rgbaColor,\n            position: {\n              x: dot.x - SQUARE_SIDE_LENGTH / 2,\n              y: dot.y - SQUARE_SIDE_LENGTH / 2,\n            },\n          }),\n        };\n        screenDots.push(screenDot);\n        dotPresentationSceneSquare.addChild(screenDot.shape);\n      }\n\n      dotPresentationScene.run(\n        Action.sequence([\n          Action.wait({\n            duration: game.getParameter(\"dot_present_duration_ms\"),\n          }),\n          Action.custom({\n            callback: () => {\n              dotPresentationSceneSquare.removeAllChildren();\n            },\n          }),\n          Action.wait({ duration: game.getParameter(\"dot_blank_duration_ms\") }),\n          Action.custom({\n            callback: () => {\n              game.presentScene(colorSelectionScene);\n            },\n          }),\n        ]),\n      );\n    });\n\n    // ==============================================================\n    // SCENE: colorSelection\n    const colorSelectionScene = new Scene();\n    game.addScene(colorSelectionScene);\n\n    const colorSelectionSceneSquare = new Shape({\n      rect: { size: { width: SQUARE_SIDE_LENGTH, height: SQUARE_SIDE_LENGTH } },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Gray,\n      lineWidth: 4,\n      position: { x: 200, y: 300 },\n    });\n    colorSelectionScene.addChild(colorSelectionSceneSquare);\n\n    const whatColorLabel = new Label({\n      text: \"WHAT_COLOR\",\n      fontSize: 24,\n      position: { x: 200, y: 75 },\n    });\n    colorSelectionScene.addChild(whatColorLabel);\n\n    const colorPaletteOutline = new Shape({\n      position: { x: 200, y: 530 },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Black,\n      lineWidth: 2,\n      rect: { width: 350, height: 60 },\n    });\n    colorSelectionScene.addChild(colorPaletteOutline);\n\n    const colorPaletteGrid = new Grid({\n      position: { x: 200, y: 530 },\n      rows: 1,\n      columns: numberOfColors,\n      size: { width: 350, height: 60 },\n      backgroundColor: WebColors.Transparent,\n      gridLineColor: WebColors.Transparent,\n    });\n\n    colorSelectionScene.addChild(colorPaletteGrid);\n\n    let colorRt = -1;\n\n    const colorSelectionDoneButton = new Button({\n      position: { x: 200, y: 650 },\n      text: \"DONE_BUTTON_TEXT\",\n      hidden: true,\n    });\n    colorSelectionDoneButton.onTapDown(() => {\n      Timer.stop(\"colorRt\");\n      colorRt = Timer.elapsed(\"colorRt\");\n      Timer.remove(\"colorRt\");\n      game.addTrialData(\"color_selection_response_time_ms\", colorRt);\n      whatColorLabel.hidden = true;\n      colorPaletteOutline.hidden = true;\n      colorPaletteGrid.hidden = true;\n      colorSelectionDoneButton.hidden = true;\n      colorSelectionDoneButton.run(\n        Action.sequence([\n          Action.wait({\n            duration: game.getParameter(\"color_selected_hold_duration_ms\"),\n          }),\n          Action.custom({\n            callback: () => {\n              if (!selectedRgba) {\n                throw new M2Error(\"no selected color\");\n              }\n              const colorSelectedName = dotColors.filter((d) =>\n                Equal.rgbaColor(d.rgbaColor, selectedRgba),\n              )[0].colorName;\n              colorSelected = {\n                color_name: colorSelectedName,\n                rgba_color: selectedRgba,\n              };\n              game.addTrialData(\"color_selected\", colorSelected);\n              const trialConfiguration = trialConfigurations[game.trialIndex];\n              const colorTargetDot =\n                trialConfiguration.dots[\n                  trialConfiguration.colorSelectionDotIndex\n                ];\n              game.addTrialData(\n                \"color_selected_correct\",\n                Equal.rgbaColor(colorTargetDot.rgbaColor, selectedRgba),\n              );\n              game.presentScene(locationSelectionScene);\n            },\n          }),\n        ]),\n      );\n    });\n\n    colorSelectionScene.addChild(colorSelectionDoneButton);\n\n    colorSelectionScene.onSetup(() => {\n      whatColorLabel.hidden = false;\n      colorPaletteOutline.hidden = false;\n      colorPaletteGrid.hidden = false;\n      colorSelectionSceneSquare.removeAllChildren();\n\n      const trialConfiguration = trialConfigurations[game.trialIndex];\n      const colorSelectionDotIndex = trialConfiguration.colorSelectionDotIndex;\n\n      const colorSelectionDot =\n        screenDots[colorSelectionDotIndex].shape.duplicate();\n      colorSelectionDot.fillColor = WebColors.Transparent;\n      colorSelectionDot.strokeColor = WebColors.Black;\n      colorSelectionDot.lineWidth = 2;\n\n      colorSelectionSceneSquare.addChild(colorSelectionDot);\n\n      colorPaletteGrid.removeAllGridChildren();\n      for (let i = 0; i < numberOfColors; i++) {\n        const colorDot = new Shape({\n          circleOfRadius: dotDiameter / 2,\n          fillColor: dotColors[i].rgbaColor,\n          isUserInteractionEnabled: true,\n        });\n        colorDot.size = { width: dotDiameter, height: dotDiameter };\n\n        colorDot.onTapDown(() => {\n          colorSelectionDot.fillColor = colorDot.fillColor;\n          colorSelectionDoneButton.hidden = false;\n          colorSelectionDoneButton.isUserInteractionEnabled = true;\n          selectedRgba = colorDot.fillColor;\n        });\n\n        colorPaletteGrid.addAtCell(colorDot, 0, i);\n      }\n    });\n\n    colorSelectionScene.onAppear(() => {\n      Timer.startNew(\"colorRt\");\n    });\n\n    // ==============================================================\n    // SCENE: locationSelection\n\n    const locationSelectionScene = new Scene({\n      isUserInteractionEnabled: true,\n    });\n    game.addScene(locationSelectionScene);\n\n    const locationSelectionSquare = new Shape({\n      rect: { size: { width: SQUARE_SIDE_LENGTH, height: SQUARE_SIDE_LENGTH } },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Gray,\n      lineWidth: 4,\n      position: { x: 200, y: 300 },\n    });\n    locationSelectionScene.addChild(locationSelectionSquare);\n\n    locationSelectionSquare.onPointerDown(() => {\n      currentInteractionIsDrag = false;\n    });\n\n    const whereDotText = new Label({\n      text: \"WHERE_WAS\",\n      fontSize: 24,\n      position: { x: 165, y: 75 },\n      preferredMaxLayoutWidth: 285,\n      horizontalAlignmentMode: LabelHorizontalAlignmentMode.Left,\n    });\n    locationSelectionScene.addChild(whereDotText);\n\n    const touchToMoveLabel = new Label({\n      text: \"TOUCH_TO_MOVE\",\n      fontSize: 24,\n      position: { x: 200, y: 530 },\n    });\n    locationSelectionScene.addChild(touchToMoveLabel);\n\n    let locationSelectionDot: Shape;\n    let location_target: {\n      x: number;\n      y: number;\n      color_name: string;\n      color_rgba: RgbaColor;\n    };\n\n    /**\n     * Determines if dot is fully within bounds of the square, and not\n     * touching the edge of the square.\n     *\n     * @returns true if fully within bounds, false otherwise.\n     */\n    function dotPositionIsFullyWithinSquare(dotPosition: Point) {\n      const dotLocation = calculatePositionWithinSquare(dotPosition);\n      if (\n        dotLocation.x < dotDiameter / 2 ||\n        dotLocation.x + dotDiameter / 2 > SQUARE_SIDE_LENGTH ||\n        dotLocation.y < dotDiameter / 2 ||\n        dotLocation.y + dotDiameter / 2 > SQUARE_SIDE_LENGTH\n      ) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n\n    /**\n     * Determines if dot center is within bounds of the square.\n     *\n     * @returns true if dot center is within bounds, false otherwise.\n     */\n    function dotPositionIsWithinSquare(dotPosition: Point) {\n      const dotLocation = calculatePositionWithinSquare(dotPosition);\n      if (\n        dotLocation.x < 0 ||\n        dotLocation.x > SQUARE_SIDE_LENGTH ||\n        dotLocation.y < 0 ||\n        dotLocation.y > SQUARE_SIDE_LENGTH\n      ) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n\n    /**\n     * Calculates a position relative to the square's coordinate system.\n     *\n     * @remarks This function is needed because the dot's position is\n     * relative to the scene's coordinate system.\n     *\n     * @returns location Point\n     */\n    function calculatePositionWithinSquare(position: Point): Point {\n      // upper left corner of square on the scene's coordinate system\n      const squareOrigin =\n        locationSelectionSquare.position.x - SQUARE_SIDE_LENGTH / 2;\n      const squareOriginY =\n        locationSelectionSquare.position.y - SQUARE_SIDE_LENGTH / 2;\n      const x = position.x - squareOrigin;\n      const y = position.y - squareOriginY;\n      return { x, y };\n    }\n\n    let currentInteractionIsDrag = false;\n\n    locationSelectionScene.onPointerUp((pointerEvent) => {\n      if (currentInteractionIsDrag) {\n        return;\n      }\n      if (!dotPositionIsWithinSquare(pointerEvent.point)) {\n        return;\n      }\n\n      locationSelectionDot.position = {\n        x: pointerEvent.point.x,\n        y: pointerEvent.point.y,\n      };\n      if (dotPositionIsFullyWithinSquare(locationSelectionDot.position)) {\n        locationSelectionDoneButton.hidden = false;\n      } else {\n        locationSelectionDoneButton.hidden = true;\n      }\n    });\n\n    locationSelectionScene.onSetup(() => {\n      const trialConfiguration = trialConfigurations[game.trialIndex];\n      const colorSelectionDotIndex = trialConfiguration.colorSelectionDotIndex;\n\n      locationSelectionDoneButton.hidden = true;\n      locationSelectionSquare.removeAllChildren();\n\n      const priorColorSelectedDot = new Shape({\n        circleOfRadius: dotDiameter / 2,\n        fillColor: selectedRgba,\n        strokeColor: WebColors.Black,\n        lineWidth: 2,\n        position: {\n          x:\n            trialConfiguration.dots[colorSelectionDotIndex].x -\n            SQUARE_SIDE_LENGTH / 2,\n          y:\n            trialConfiguration.dots[colorSelectionDotIndex].y -\n            SQUARE_SIDE_LENGTH / 2,\n        },\n      });\n      locationSelectionSquare.addChild(priorColorSelectedDot);\n\n      let locationSelectionDotIndex = -1;\n      do {\n        locationSelectionDotIndex = RandomDraws.SingleFromRange(\n          0,\n          numberOfDots - 1,\n        );\n        if (\n          Equal.rgbaColor(\n            trialConfiguration.dots[locationSelectionDotIndex].rgbaColor,\n            selectedRgba,\n          )\n        ) {\n          locationSelectionDotIndex = -1;\n        }\n        if (locationSelectionDotIndex === colorSelectionDotIndex) {\n          locationSelectionDotIndex = -1;\n        }\n      } while (locationSelectionDotIndex === -1);\n\n      trialConfiguration.locationSelectionDotIndex = locationSelectionDotIndex;\n\n      locationSelectionDot = new Shape({\n        circleOfRadius: dotDiameter / 2,\n        fillColor: trialConfiguration.dots[locationSelectionDotIndex].rgbaColor,\n        position: { x: 345, y: 75 },\n        isUserInteractionEnabled: true,\n        draggable: true,\n      });\n      locationSelectionScene.addChild(locationSelectionDot);\n\n      location_target = {\n        x: trialConfiguration.dots[locationSelectionDotIndex].x,\n        y: trialConfiguration.dots[locationSelectionDotIndex].y,\n        color_name:\n          trialConfiguration.dots[locationSelectionDotIndex].colorName,\n        color_rgba:\n          trialConfiguration.dots[locationSelectionDotIndex].rgbaColor,\n      };\n\n      const presentedDots = [];\n      for (let i = 0; i < trialConfiguration.dots.length; i++) {\n        const dot = {\n          color_name: trialConfiguration.dots[i].colorName,\n          rgba_color: trialConfiguration.dots[i].rgbaColor,\n          location: {\n            x: trialConfiguration.dots[i].x,\n            y: trialConfiguration.dots[i].y,\n          },\n        };\n        presentedDots.push(dot);\n      }\n      game.addTrialData(\"presented_dots\", presentedDots);\n      game.addTrialData(\n        \"color_target_dot_index\",\n        trialConfiguration.colorSelectionDotIndex,\n      );\n      game.addTrialData(\n        \"location_target_dot_index\",\n        trialConfiguration.locationSelectionDotIndex,\n      );\n\n      if (!selectedRgba) {\n        throw new M2Error(\"no selected color!\");\n      }\n      priorColorSelectedDot.fillColor = selectedRgba;\n\n      locationSelectionDot.onTapDown((tapEvent) => {\n        /** Prevent other nodes from receiving the tap event.\n         * Specifically, this prevents the quit button from being pressed if\n         * the user taps on the dot. Note: the dot placement on the\n         * square listens for PointerDown, so that will not be affected. */\n        tapEvent.handled = true;\n      });\n\n      locationSelectionDot.onDragStart(() => {\n        currentInteractionIsDrag = true;\n      });\n\n      locationSelectionDot.onDrag(() => {\n        if (dotPositionIsFullyWithinSquare(locationSelectionDot.position)) {\n          locationSelectionDoneButton.hidden = false;\n        } else {\n          locationSelectionDoneButton.hidden = true;\n        }\n      });\n\n      locationSelectionDot.onDragEnd(() => {\n        currentInteractionIsDrag = false;\n\n        if (dotPositionIsFullyWithinSquare(locationSelectionDot.position)) {\n          locationSelectionDoneButton.hidden = false;\n        } else {\n          locationSelectionDoneButton.hidden = true;\n        }\n      });\n    });\n\n    locationSelectionScene.onAppear(() => {\n      Timer.startNew(\"locationRt\");\n    });\n\n    let locationRt = -1;\n\n    const locationSelectionDoneButton = new Button({\n      position: { x: 200, y: 650 },\n      text: \"DONE_BUTTON_TEXT\",\n      hidden: true,\n      isUserInteractionEnabled: true,\n    });\n    locationSelectionDoneButton.onTapDown(() => {\n      Timer.stop(\"locationRt\");\n      locationRt = Timer.elapsed(\"locationRt\");\n      Timer.remove(\"locationRt\");\n      game.addTrialData(\"location_selection_response_time_ms\", locationRt);\n      game.addTrialData(\n        \"trial_end_iso8601_timestamp\",\n        new Date().toISOString(),\n      );\n      locationSelectionScene.removeChild(locationSelectionDot);\n\n      const location_selected = calculatePositionWithinSquare(\n        locationSelectionDot.position,\n      );\n      game.addTrialData(\"location_selected\", location_selected);\n      game.addTrialData(\"square_side_length\", SQUARE_SIDE_LENGTH);\n      const delta = Math.sqrt(\n        Math.pow(location_selected.x - location_target.x, 2) +\n          Math.pow(location_selected.y - location_target.y, 2),\n      );\n      game.addTrialData(\"location_selected_delta\", delta);\n      game.addTrialData(\"quit_button_pressed\", false);\n      game.addTrialData(\"trial_index\", game.trialIndex);\n      game.trialComplete();\n      if (game.trialIndex < game.getParameter<number>(\"number_of_trials\")) {\n        game.presentScene(fixationScene);\n      } else {\n        if (game.getParameter(\"show_trials_complete_scene\")) {\n          game.presentScene(\n            doneScene,\n            Transition.slide({\n              direction: TransitionDirection.Left,\n              duration: 500,\n              easing: Easings.sinusoidalInOut,\n            }),\n          );\n        } else {\n          game.end();\n        }\n      }\n    });\n    locationSelectionScene.addChild(locationSelectionDoneButton);\n\n    // ==============================================================\n    // SCENE: done. Show done message, with a button to exit.\n    const doneScene = new Scene();\n    game.addScene(doneScene);\n\n    const doneSceneText = new Label({\n      text: \"TRIALS_COMPLETE_SCENE_TEXT\",\n      position: { x: 200, y: 400 },\n    });\n    doneScene.addChild(doneSceneText);\n\n    const okButton = new Button({\n      text: \"TRIALS_COMPLETE_SCENE_BUTTON_TEXT\",\n      position: { x: 200, y: 650 },\n    });\n    okButton.isUserInteractionEnabled = true;\n    okButton.onTapDown(() => {\n      // don't allow repeat taps of ok button\n      okButton.isUserInteractionEnabled = false;\n      doneScene.removeAllChildren();\n      game.end();\n    });\n    doneScene.addChild(okButton);\n    doneScene.onSetup(() => {\n      // no need to have cancel button, because we're done\n      game.removeAllFreeNodes();\n    });\n  }\n}\n\nexport { ColorDots };\n"],"names":[],"mappings":"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"}