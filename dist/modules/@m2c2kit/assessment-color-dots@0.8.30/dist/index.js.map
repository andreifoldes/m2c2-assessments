{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import {\n  Game,\n  Action,\n  Scene,\n  Shape,\n  Label,\n  Transition,\n  TransitionDirection,\n  WebColors,\n  RandomDraws,\n  GameParameters,\n  GameOptions,\n  TrialSchema,\n  Timer,\n  Easings,\n  RgbaColor,\n  Equal,\n  Sprite,\n  Point,\n  Constants,\n  Translation,\n  LabelHorizontalAlignmentMode,\n  M2Error,\n} from \"@m2c2kit/core\";\nimport {\n  Button,\n  CountdownScene,\n  Grid,\n  Instructions,\n  InstructionsOptions,\n  LocalePicker,\n} from \"@m2c2kit/addons\";\n\n/**\n * Color Dots is cued-recall, item-location memory binding task, where after\n * viewing 3 dots for a brief period of time, participants report: (1) the\n * color at a cued location; (2) the location of a cued color.\n */\nclass ColorDots extends Game {\n  constructor() {\n    /**\n     * These are configurable game parameters and their defaults.\n     * Each game parameter should have a type, default (this is the default\n     * value), and a description.\n     */\n    const defaultParameters: GameParameters = {\n      fixation_duration_ms: {\n        default: 500,\n        description: \"How long fixation scene is shown, milliseconds.\",\n        type: \"number\",\n      },\n      dot_colors: {\n        type: \"array\",\n        description: \"Array of colors for dots.\",\n        items: {\n          type: \"object\",\n          properties: {\n            colorName: {\n              type: \"string\",\n              description: \"Human-friendly name of color.\",\n            },\n            rgbaColor: {\n              type: \"array\",\n              description: \"Color as array, [r,g,b,a].\",\n              items: {\n                type: \"number\",\n              },\n            },\n          },\n        },\n        default: [\n          { colorName: \"black\", rgbaColor: [0, 0, 0, 1] },\n          { colorName: \"green\", rgbaColor: [0, 158, 115, 1] },\n          { colorName: \"yellow\", rgbaColor: [240, 228, 66, 1] },\n          { colorName: \"blue\", rgbaColor: [0, 114, 178, 1] },\n          { colorName: \"orange\", rgbaColor: [213, 94, 0, 1] },\n          { colorName: \"pink\", rgbaColor: [204, 121, 167, 1] },\n          // These two additional colors were in the original specification\n          // but not implemented: [230, 159, 0, 1], [86, 180, 233, 1]\n        ],\n      },\n      dot_diameter: {\n        default: 48,\n        description: \"Diameter of dots.\",\n        type: \"number\",\n      },\n      number_of_dots: {\n        default: 3,\n        description: \"How many dots to present. Must be at least 3.\",\n        type: \"integer\",\n      },\n      dot_present_duration_ms: {\n        default: 1000,\n        description: \"How long the dots are shown, milliseconds.\",\n        type: \"number\",\n      },\n      dot_blank_duration_ms: {\n        default: 750,\n        description:\n          \"How long to show a blank square after dots are removed, milliseconds.\",\n        type: \"number\",\n      },\n      color_selected_hold_duration_ms: {\n        default: 500,\n        description:\n          \"How long to show a square with the dot colored by the user's choice, before advancing to next scene, milliseconds.\",\n        type: \"number\",\n      },\n      number_of_trials: {\n        default: 5,\n        description: \"How many trials to run.\",\n        type: \"integer\",\n      },\n      show_trials_complete_scene: {\n        default: true,\n        type: \"boolean\",\n        description:\n          \"After the final trial, should a completion scene be shown? Otherwise, the game will immediately end.\",\n      },\n      instruction_type: {\n        default: \"long\",\n        description: \"Type of instructions to show, 'short' or 'long'.\",\n        type: \"string\",\n        enum: [\"short\", \"long\"],\n      },\n      instructions: {\n        default: null,\n        type: [\"object\", \"null\"],\n        description:\n          \"When non-null, an InstructionsOptions object that will completely override the built-in instructions.\",\n      },\n      show_quit_button: {\n        type: \"boolean\",\n        default: false,\n        description: \"Should the activity quit button be shown?\",\n      },\n      show_fps: {\n        type: \"boolean\",\n        default: false,\n        description: \"Should the FPS be shown?\",\n      },\n      show_locale_picker: {\n        type: \"boolean\",\n        default: false,\n        description:\n          \"Should the icon that allows the participant to switch the locale be shown?\",\n      },\n    };\n\n    /**\n     * This describes all the data that will be generated by the assessment.\n     * At runtime, when a trial completes, the data will be returned to the\n     * session with a callback, along with this schema transformed into\n     * JSON Schema.\n     */\n    const colorDotsTrialSchema: TrialSchema = {\n      activity_begin_iso8601_timestamp: {\n        type: \"string\",\n        format: \"date-time\",\n        description:\n          \"ISO 8601 timestamp at the beginning of the game activity.\",\n      },\n      trial_begin_iso8601_timestamp: {\n        type: [\"string\", \"null\"],\n        format: \"date-time\",\n        description:\n          \"ISO 8601 timestamp at the beginning of the trial. Null if trial was skipped.\",\n      },\n      trial_end_iso8601_timestamp: {\n        type: [\"string\", \"null\"],\n        format: \"date-time\",\n        description:\n          \"ISO 8601 timestamp at the end of the trial (when user presses 'Done' after placing the dot). Null if trial was skipped.\",\n      },\n      trial_index: {\n        type: [\"integer\", \"null\"],\n        description: \"Index of the trial within this assessment, 0-based.\",\n      },\n      square_side_length: {\n        type: [\"number\", \"null\"],\n        description:\n          \"Length of square side, in pixels. This is the square in which the dots are shown. Null if trial was skipped.\",\n      },\n      presented_dots: {\n        description:\n          \"Configuration of dots presented to the user. Null if trial was skipped.\",\n        type: [\"array\", \"null\"],\n        items: {\n          type: \"object\",\n          properties: {\n            color_name: {\n              type: \"string\",\n              description: \"Human-friendly name of color.\",\n            },\n            rgba_color: {\n              type: \"array\",\n              description: \"Color as array, [r,g,b,a].\",\n              items: {\n                type: \"number\",\n              },\n            },\n            location: {\n              type: \"object\",\n              description: \"Location of dot.\",\n              properties: {\n                x: {\n                  type: \"number\",\n                  description: \"X coordinate of dot.\",\n                },\n                y: {\n                  type: \"number\",\n                  description: \"Y coordinate of dot.\",\n                },\n              },\n            },\n          },\n        },\n      },\n      color_target_dot_index: {\n        description:\n          \"Index (0-based) of presented dot whose color the user was asked to recall. Null if trial was skipped.\",\n        type: [\"integer\", \"null\"],\n      },\n      color_selected: {\n        description: \"Color selected by user. Null if trial was skipped.\",\n        type: [\"object\", \"null\"],\n        properties: {\n          color_name: {\n            type: \"string\",\n            description: \"Human-friendly name of color.\",\n          },\n          rgba_color: {\n            type: \"array\",\n            description: \"Color as array, [r,g,b,a].\",\n            items: {\n              type: \"number\",\n            },\n          },\n        },\n      },\n      color_selected_correct: {\n        type: [\"boolean\", \"null\"],\n        description:\n          \"Was the color selected by the user correct? Null if trial was skipped.\",\n      },\n      location_target_dot_index: {\n        description:\n          \"Index (0-based) of presented dot whose location the user was asked to recall. Null if trial was skipped.\",\n        type: [\"integer\", \"null\"],\n      },\n      location_selected: {\n        description: \"Location selected by user. Null if trial was skipped.\",\n        type: [\"object\", \"null\"],\n        properties: {\n          x: {\n            type: \"number\",\n            description: \"X coordinate of dot.\",\n          },\n          y: {\n            type: \"number\",\n            description: \"Y coordinate of dot.\",\n          },\n        },\n      },\n      location_selected_delta: {\n        type: [\"number\", \"null\"],\n        description:\n          \"Euclidean distance between location target dot and the location selected by user. Null if trial was skipped.\",\n      },\n      color_selection_response_time_ms: {\n        type: [\"number\", \"null\"],\n        description:\n          \"Milliseconds from the beginning of color selection task until the user taps the done button. Null if trial was skipped.\",\n      },\n      location_selection_response_time_ms: {\n        type: [\"number\", \"null\"],\n        description:\n          \"Milliseconds from the beginning of location selection task until the user taps the done button. Null if trial was skipped.\",\n      },\n      quit_button_pressed: {\n        type: \"boolean\",\n        description: \"Was the quit button pressed?\",\n      },\n    };\n\n    const translation: Translation = {\n      configuration: {\n        baseLocale: \"en-US\",\n      },\n      \"en-US\": {\n        localeName: \"English\",\n        INSTRUCTIONS_TITLE: \"Color Dots\",\n        SHORT_INSTRUCTIONS_TEXT_PAGE_1:\n          \"For this activity, try to remember the location and color of 3 dots.\",\n        INSTRUCTIONS_TEXT_PAGE_1:\n          \"For this activity, try to remember the location and color of 3 dots.\",\n        INSTRUCTIONS_TEXT_PAGE_2:\n          \"Choose the color of the dot from the options at the bottom of the screen.\",\n        INSTRUCTIONS_TEXT_PAGE_3:\n          \"Next you are asked to place another dot. Touch the screen where you remember seeing the dot.\",\n        WHAT_COLOR: \"What color was this dot?\",\n        WHERE_WAS: \"Where was this dot?\",\n        TOUCH_TO_MOVE: \"Touch the screen to move the dot\",\n        DONE_BUTTON_TEXT: \"Done\",\n        START_BUTTON_TEXT: \"START\",\n        NEXT_BUTTON_TEXT: \"Next\",\n        BACK_BUTTON_TEXT: \"Back\",\n        GET_READY_COUNTDOWN_TEXT: \"GET READY!\",\n        TRIALS_COMPLETE_SCENE_TEXT: \"This activity is complete.\",\n        TRIALS_COMPLETE_SCENE_BUTTON_TEXT: \"OK\",\n      },\n      // cSpell:disable (for VS Code extension, Code Spell Checker)\n      \"es-MX\": {\n        localeName: \"Español\",\n        INSTRUCTIONS_TITLE: \"Puntos de Color\",\n        SHORT_INSTRUCTIONS_TEXT_PAGE_1:\n          \"Para esta actividad, intenta recordar la ubicación y el color de 3 puntos.\",\n        INSTRUCTIONS_TEXT_PAGE_1:\n          \"Para esta actividad, intenta recordar la ubicación y el color de 3 puntos.\",\n        INSTRUCTIONS_TEXT_PAGE_2:\n          \"Escoja el color del punto de las opciones en la parte de abajo de la pantalla.\",\n        INSTRUCTIONS_TEXT_PAGE_3:\n          \"Luego, se te pedirá que coloques otro punto. Toca la pantalla donde recuerdas haber visto el punto.\",\n        WHAT_COLOR: \"¿De qué color era este punto?\",\n        WHERE_WAS: \"¿Dónde estaba este punto?\",\n        TOUCH_TO_MOVE: \"Toca la pantalla para mover el punto\",\n        DONE_BUTTON_TEXT: \"Listo\",\n        START_BUTTON_TEXT: \"COMENZAR\",\n        NEXT_BUTTON_TEXT: \"Siguiente\",\n        BACK_BUTTON_TEXT: \"Atrás\",\n        GET_READY_COUNTDOWN_TEXT: \"PREPÁRESE\",\n        TRIALS_COMPLETE_SCENE_TEXT: \"Esta actividad está completa.\",\n        TRIALS_COMPLETE_SCENE_BUTTON_TEXT: \"OK\",\n      },\n      // cSpell:enable\n    };\n\n    const options: GameOptions = {\n      name: \"Color Dots\",\n      /**\n       * This id must match the property m2c2kit.assessmentId in package.json\n       */\n      id: \"color-dots\",\n      publishUuid: \"72a1ef60-75c0-47b3-921c-aaee72cca9da\",\n      version: \"__PACKAGE_JSON_VERSION__\",\n      moduleMetadata: Constants.MODULE_METADATA_PLACEHOLDER,\n      translation: translation,\n      shortDescription:\n        \"Color Dots is cued-recall, item-location memory \\\nbinding task, where after viewing 3 dots for a brief period of time, \\\nparticipants report: (1) the color at a cued location; (2) the location of \\\na cued color.\",\n      longDescription:\n        \"Participants are asked to remember the location and color of three \\\nbriefly presented, and uniquely colored dots. Each trial of this task \\\nrequires two responses (subsequently referred to as stage 1 and stage 2 in \\\nthe list of outcome variables): (1) reporting the color at a cued location; \\\n(2) reporting the location where a circular of a specified color previously \\\nappeared.\",\n      showFps: defaultParameters.show_fps.default,\n      width: 400,\n      height: 800,\n      bodyBackgroundColor: WebColors.White,\n      trialSchema: colorDotsTrialSchema,\n      parameters: defaultParameters,\n      fonts: [\n        {\n          fontName: \"roboto\",\n          url: \"fonts/roboto/Roboto-Regular.ttf\",\n        },\n      ],\n      images: [\n        {\n          imageName: \"cd1\",\n          height: 450,\n          width: 350,\n          url: \"images/cd1.png\",\n        },\n        {\n          imageName: \"cd2\",\n          height: 450,\n          width: 350,\n          url: \"images/cd2.png\",\n          localize: true,\n        },\n        {\n          imageName: \"cd3\",\n          height: 450,\n          width: 350,\n          url: \"images/cd3.png\",\n          localize: true,\n        },\n        {\n          imageName: \"circle-x\",\n          height: 32,\n          width: 32,\n          // the svg is from evericons and is licensed under CC0 1.0\n          // Universal (Public Domain). see https://www.patreon.com/evericons\n          url: \"images/circle-x.svg\",\n        },\n      ],\n    };\n\n    super(options);\n  }\n\n  override async initialize() {\n    await super.initialize();\n    // just for convenience, alias the variable game to \"this\"\n    // (even though eslint doesn't like it)\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const game = this;\n\n    const SQUARE_SIDE_LENGTH = 350;\n\n    // ==============================================================\n\n    if (game.getParameter<boolean>(\"show_quit_button\")) {\n      const quitSprite = new Sprite({\n        imageName: \"circle-x\",\n        position: { x: 380, y: 20 },\n        isUserInteractionEnabled: true,\n      });\n      game.addFreeNode(quitSprite);\n      quitSprite.onTapDown((e) => {\n        game.removeAllFreeNodes();\n        e.handled = true;\n        const blankScene = new Scene();\n        game.addScene(blankScene);\n        game.presentScene(blankScene);\n        game.addTrialData(\"quit_button_pressed\", true);\n        game.trialComplete();\n        game.cancel();\n      });\n    }\n\n    let localePicker: LocalePicker;\n    if (game.getParameter<boolean>(\"show_locale_picker\")) {\n      localePicker = new LocalePicker();\n      game.addFreeNode(localePicker);\n    }\n\n    // ==============================================================\n    // These user input variables are referenced across scenes, thus\n    // we must define them in this scope, rather than in the\n    // scene.onSetup() function.\n    interface ColorSelected {\n      color_name: string;\n      rgba_color: RgbaColor;\n    }\n    let colorSelected: ColorSelected;\n    let selectedRgba: RgbaColor | undefined;\n\n    // ==============================================================\n    // SCENES: instructions\n    let instructionsScenes: Array<Scene>;\n\n    const customInstructions = game.getParameter<InstructionsOptions | null>(\n      \"instructions\",\n    );\n    if (customInstructions) {\n      instructionsScenes = Instructions.create(customInstructions);\n    } else {\n      switch (game.getParameter(\"instruction_type\")) {\n        case \"short\": {\n          instructionsScenes = Instructions.create({\n            instructionScenes: [\n              {\n                title: \"INSTRUCTIONS_TITLE\",\n                text: \"SHORT_INSTRUCTIONS_TEXT_PAGE_1\",\n                imageName: \"cd1\",\n                imageAboveText: false,\n                textFontSize: 24,\n                titleFontSize: 30,\n                textVerticalBias: 0.2,\n                nextButtonText: \"START_BUTTON_TEXT\",\n                nextButtonBackgroundColor: WebColors.Green,\n              },\n            ],\n          });\n          break;\n        }\n        case \"long\": {\n          instructionsScenes = Instructions.create({\n            instructionScenes: [\n              {\n                title: \"INSTRUCTIONS_TITLE\",\n                text: \"INSTRUCTIONS_TEXT_PAGE_1\",\n                imageName: \"cd1\",\n                imageAboveText: false,\n                textFontSize: 24,\n                titleFontSize: 30,\n                textVerticalBias: 0.2,\n                nextButtonText: \"NEXT_BUTTON_TEXT\",\n                backButtonText: \"BACK_BUTTON_TEXT\",\n              },\n              {\n                title: \"INSTRUCTIONS_TITLE\",\n                text: \"INSTRUCTIONS_TEXT_PAGE_2\",\n                imageName: \"cd2\",\n                imageAboveText: false,\n                textFontSize: 24,\n                titleFontSize: 30,\n                textVerticalBias: 0.15,\n                nextButtonText: \"NEXT_BUTTON_TEXT\",\n                backButtonText: \"BACK_BUTTON_TEXT\",\n              },\n              {\n                title: \"INSTRUCTIONS_TITLE\",\n                text: \"INSTRUCTIONS_TEXT_PAGE_3\",\n                imageName: \"cd3\",\n                imageAboveText: false,\n                imageMarginTop: 8,\n                textFontSize: 24,\n                titleFontSize: 30,\n                textVerticalBias: 0.15,\n                nextButtonText: \"START_BUTTON_TEXT\",\n                nextButtonBackgroundColor: WebColors.Green,\n                backButtonText: \"BACK_BUTTON_TEXT\",\n              },\n            ],\n          });\n          break;\n        }\n        default: {\n          throw new M2Error(\"invalid value for instruction_type\");\n        }\n      }\n    }\n    instructionsScenes[0].onAppear(() => {\n      // in case user quits before starting a trial, record the\n      // timestamp\n      game.addTrialData(\n        \"activity_begin_iso8601_timestamp\",\n        this.beginIso8601Timestamp,\n      );\n    });\n    game.addScenes(instructionsScenes);\n\n    // ==============================================================\n    // SCENE: countdown. Show 3 second countdown.\n    const countdownScene = new CountdownScene({\n      milliseconds: 3000,\n      text: \"GET_READY_COUNTDOWN_TEXT\",\n      zeroDwellMilliseconds: 1000,\n      transition: Transition.none(),\n    });\n    game.addScene(countdownScene);\n\n    interface Dot {\n      x: number;\n      y: number;\n      rgbaColor: RgbaColor;\n      colorName: string;\n    }\n\n    interface ScreenDot extends Dot {\n      shape: Shape;\n    }\n\n    interface TrialConfiguration {\n      dots: Array<Dot>;\n      colorSelectionDotIndex: number;\n      locationSelectionDotIndex: number;\n    }\n\n    const trialConfigurations: Array<TrialConfiguration> = [];\n    const numberOfDots = game.getParameter<number>(\"number_of_dots\");\n    const dotColors =\n      game.getParameter<Array<{ colorName: string; rgbaColor: RgbaColor }>>(\n        \"dot_colors\",\n      );\n    const dotDiameter = game.getParameter<number>(\"dot_diameter\");\n    const numberOfColors = dotColors.length;\n\n    function positionTooCloseToOtherDots(\n      x: number,\n      y: number,\n      dots: Array<Dot>,\n    ) {\n      for (let i = 0; i < dots.length; i++) {\n        const dist = Math.sqrt(\n          Math.pow(x - dots[i].x, 2) + Math.pow(y - dots[i].y, 2),\n        );\n        if (dist < dotDiameter * 3 + 0.25 * dotDiameter) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    for (let i = 0; i < game.getParameter<number>(\"number_of_trials\"); i++) {\n      // we clone the dotColors array because we mutate the cloned array\n      // (availableColors) to avoid re-using colors in the same trial\n      const availableColors: { colorName: string; rgbaColor: RgbaColor }[] =\n        JSON.parse(JSON.stringify(dotColors));\n      const dots = new Array<Dot>();\n      for (let j = 0; j < numberOfDots; j++) {\n        let x: number;\n        let y: number;\n        do {\n          // +4, -4 to have some small margin between dot and square\n          x = RandomDraws.SingleFromRange(\n            0 + dotDiameter / 2 + 4,\n            SQUARE_SIDE_LENGTH - dotDiameter / 2 - 4,\n          );\n          y = RandomDraws.SingleFromRange(\n            0 + dotDiameter / 2 + 4,\n            SQUARE_SIDE_LENGTH - dotDiameter / 2 - 4,\n          );\n        } while (positionTooCloseToOtherDots(x, y, dots));\n\n        const colorIndex = RandomDraws.SingleFromRange(\n          0,\n          availableColors.length - 1,\n        );\n        const dotColor = availableColors.splice(colorIndex, 1)[0];\n        const dot = {\n          x,\n          y,\n          rgbaColor: dotColor.rgbaColor,\n          colorName: dotColor.colorName,\n        };\n        dots.push(dot);\n      }\n\n      const colorSelectionDotIndex = RandomDraws.SingleFromRange(\n        0,\n        dots.length - 1,\n      );\n\n      trialConfigurations.push({\n        colorSelectionDotIndex: colorSelectionDotIndex,\n        // which dot is chosen for the location selection task is not yet\n        // known, because it depends on user input to color selection task.\n        locationSelectionDotIndex: NaN,\n        dots: dots,\n      });\n    }\n\n    // ==============================================================\n    // SCENE: fixation. Show cross, then advance after XXXX\n    // milliseconds (as defined in fixation_duration_ms parameter)\n    const fixationScene = new Scene();\n    game.addScene(fixationScene);\n\n    const fixationSceneSquare = new Shape({\n      rect: { size: { width: SQUARE_SIDE_LENGTH, height: SQUARE_SIDE_LENGTH } },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Gray,\n      lineWidth: 4,\n      position: { x: 200, y: 300 },\n    });\n    fixationScene.addChild(fixationSceneSquare);\n\n    const plusLabel = new Label({\n      text: \"+\",\n      fontSize: 32,\n      fontColor: WebColors.Black,\n      localize: false,\n    });\n    fixationSceneSquare.addChild(plusLabel);\n\n    fixationScene.onSetup(() => {\n      fixationScene.run(\n        Action.sequence([\n          Action.wait({ duration: game.getParameter(\"fixation_duration_ms\") }),\n          Action.custom({\n            callback: () => {\n              game.presentScene(dotPresentationScene);\n            },\n          }),\n        ]),\n      );\n    });\n\n    fixationScene.onAppear(() => {\n      game.addTrialData(\n        \"activity_begin_iso8601_timestamp\",\n        this.beginIso8601Timestamp,\n      );\n      game.addTrialData(\n        \"trial_begin_iso8601_timestamp\",\n        new Date().toISOString(),\n      );\n    });\n\n    // ==============================================================\n    // SCENE: dotPresentation.\n    const dotPresentationScene = new Scene();\n    game.addScene(dotPresentationScene);\n\n    const dotPresentationSceneSquare = new Shape({\n      rect: { size: { width: SQUARE_SIDE_LENGTH, height: SQUARE_SIDE_LENGTH } },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Gray,\n      lineWidth: 4,\n      position: { x: 200, y: 300 },\n    });\n    dotPresentationScene.addChild(dotPresentationSceneSquare);\n\n    const screenDots = new Array<ScreenDot>();\n\n    dotPresentationScene.onSetup(() => {\n      screenDots.length = 0;\n      const trialConfiguration = trialConfigurations[game.trialIndex];\n\n      for (const dot of trialConfiguration.dots) {\n        const screenDot: ScreenDot = {\n          x: dot.x,\n          y: dot.y,\n          rgbaColor: dot.rgbaColor,\n          colorName: dot.colorName,\n          shape: new Shape({\n            circleOfRadius: dotDiameter / 2,\n            fillColor: dot.rgbaColor,\n            position: {\n              x: dot.x - SQUARE_SIDE_LENGTH / 2,\n              y: dot.y - SQUARE_SIDE_LENGTH / 2,\n            },\n          }),\n        };\n        screenDots.push(screenDot);\n        dotPresentationSceneSquare.addChild(screenDot.shape);\n      }\n\n      dotPresentationScene.run(\n        Action.sequence([\n          Action.wait({\n            duration: game.getParameter(\"dot_present_duration_ms\"),\n          }),\n          Action.custom({\n            callback: () => {\n              dotPresentationSceneSquare.removeAllChildren();\n            },\n          }),\n          Action.wait({ duration: game.getParameter(\"dot_blank_duration_ms\") }),\n          Action.custom({\n            callback: () => {\n              game.presentScene(colorSelectionScene);\n            },\n          }),\n        ]),\n      );\n    });\n\n    // ==============================================================\n    // SCENE: colorSelection\n    const colorSelectionScene = new Scene();\n    game.addScene(colorSelectionScene);\n\n    const colorSelectionSceneSquare = new Shape({\n      rect: { size: { width: SQUARE_SIDE_LENGTH, height: SQUARE_SIDE_LENGTH } },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Gray,\n      lineWidth: 4,\n      position: { x: 200, y: 300 },\n    });\n    colorSelectionScene.addChild(colorSelectionSceneSquare);\n\n    const whatColorLabel = new Label({\n      text: \"WHAT_COLOR\",\n      fontSize: 24,\n      position: { x: 200, y: 75 },\n    });\n    colorSelectionScene.addChild(whatColorLabel);\n\n    const colorPaletteOutline = new Shape({\n      position: { x: 200, y: 530 },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Black,\n      lineWidth: 2,\n      rect: { width: 350, height: 60 },\n    });\n    colorSelectionScene.addChild(colorPaletteOutline);\n\n    const colorPaletteGrid = new Grid({\n      position: { x: 200, y: 530 },\n      rows: 1,\n      columns: numberOfColors,\n      size: { width: 350, height: 60 },\n      backgroundColor: WebColors.Transparent,\n      gridLineColor: WebColors.Transparent,\n    });\n\n    colorSelectionScene.addChild(colorPaletteGrid);\n\n    let colorRt = -1;\n\n    const colorSelectionDoneButton = new Button({\n      position: { x: 200, y: 650 },\n      text: \"DONE_BUTTON_TEXT\",\n      hidden: true,\n    });\n    colorSelectionDoneButton.onTapDown(() => {\n      Timer.stop(\"colorRt\");\n      colorRt = Timer.elapsed(\"colorRt\");\n      Timer.remove(\"colorRt\");\n      game.addTrialData(\"color_selection_response_time_ms\", colorRt);\n      whatColorLabel.hidden = true;\n      colorPaletteOutline.hidden = true;\n      colorPaletteGrid.hidden = true;\n      colorSelectionDoneButton.hidden = true;\n      colorSelectionDoneButton.run(\n        Action.sequence([\n          Action.wait({\n            duration: game.getParameter(\"color_selected_hold_duration_ms\"),\n          }),\n          Action.custom({\n            callback: () => {\n              if (!selectedRgba) {\n                throw new M2Error(\"no selected color\");\n              }\n              const colorSelectedName = dotColors.filter((d) =>\n                Equal.rgbaColor(d.rgbaColor, selectedRgba),\n              )[0].colorName;\n              colorSelected = {\n                color_name: colorSelectedName,\n                rgba_color: selectedRgba,\n              };\n              game.addTrialData(\"color_selected\", colorSelected);\n              const trialConfiguration = trialConfigurations[game.trialIndex];\n              const colorTargetDot =\n                trialConfiguration.dots[\n                  trialConfiguration.colorSelectionDotIndex\n                ];\n              game.addTrialData(\n                \"color_selected_correct\",\n                Equal.rgbaColor(colorTargetDot.rgbaColor, selectedRgba),\n              );\n              game.presentScene(locationSelectionScene);\n            },\n          }),\n        ]),\n      );\n    });\n\n    colorSelectionScene.addChild(colorSelectionDoneButton);\n\n    colorSelectionScene.onSetup(() => {\n      whatColorLabel.hidden = false;\n      colorPaletteOutline.hidden = false;\n      colorPaletteGrid.hidden = false;\n      colorSelectionSceneSquare.removeAllChildren();\n\n      const trialConfiguration = trialConfigurations[game.trialIndex];\n      const colorSelectionDotIndex = trialConfiguration.colorSelectionDotIndex;\n\n      const colorSelectionDot =\n        screenDots[colorSelectionDotIndex].shape.duplicate();\n      colorSelectionDot.fillColor = WebColors.Transparent;\n      colorSelectionDot.strokeColor = WebColors.Black;\n      colorSelectionDot.lineWidth = 2;\n\n      colorSelectionSceneSquare.addChild(colorSelectionDot);\n\n      colorPaletteGrid.removeAllGridChildren();\n      for (let i = 0; i < numberOfColors; i++) {\n        const colorDot = new Shape({\n          circleOfRadius: dotDiameter / 2,\n          fillColor: dotColors[i].rgbaColor,\n          isUserInteractionEnabled: true,\n        });\n        colorDot.size = { width: dotDiameter, height: dotDiameter };\n\n        colorDot.onTapDown(() => {\n          colorSelectionDot.fillColor = colorDot.fillColor;\n          colorSelectionDoneButton.hidden = false;\n          colorSelectionDoneButton.isUserInteractionEnabled = true;\n          selectedRgba = colorDot.fillColor;\n        });\n\n        colorPaletteGrid.addAtCell(colorDot, 0, i);\n      }\n    });\n\n    colorSelectionScene.onAppear(() => {\n      Timer.startNew(\"colorRt\");\n    });\n\n    // ==============================================================\n    // SCENE: locationSelection\n\n    const locationSelectionScene = new Scene({\n      isUserInteractionEnabled: true,\n    });\n    game.addScene(locationSelectionScene);\n\n    const locationSelectionSquare = new Shape({\n      rect: { size: { width: SQUARE_SIDE_LENGTH, height: SQUARE_SIDE_LENGTH } },\n      fillColor: WebColors.Transparent,\n      strokeColor: WebColors.Gray,\n      lineWidth: 4,\n      position: { x: 200, y: 300 },\n    });\n    locationSelectionScene.addChild(locationSelectionSquare);\n\n    locationSelectionSquare.onPointerDown(() => {\n      currentInteractionIsDrag = false;\n    });\n\n    const whereDotText = new Label({\n      text: \"WHERE_WAS\",\n      fontSize: 24,\n      position: { x: 165, y: 75 },\n      preferredMaxLayoutWidth: 285,\n      horizontalAlignmentMode: LabelHorizontalAlignmentMode.Left,\n    });\n    locationSelectionScene.addChild(whereDotText);\n\n    const touchToMoveLabel = new Label({\n      text: \"TOUCH_TO_MOVE\",\n      fontSize: 24,\n      position: { x: 200, y: 530 },\n    });\n    locationSelectionScene.addChild(touchToMoveLabel);\n\n    let locationSelectionDot: Shape;\n    let location_target: {\n      x: number;\n      y: number;\n      color_name: string;\n      color_rgba: RgbaColor;\n    };\n\n    /**\n     * Determines if dot is fully within bounds of the square, and not\n     * touching the edge of the square.\n     *\n     * @returns true if fully within bounds, false otherwise.\n     */\n    function dotPositionIsFullyWithinSquare(dotPosition: Point) {\n      const dotLocation = calculatePositionWithinSquare(dotPosition);\n      if (\n        dotLocation.x < dotDiameter / 2 ||\n        dotLocation.x + dotDiameter / 2 > SQUARE_SIDE_LENGTH ||\n        dotLocation.y < dotDiameter / 2 ||\n        dotLocation.y + dotDiameter / 2 > SQUARE_SIDE_LENGTH\n      ) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n\n    /**\n     * Determines if dot center is within bounds of the square.\n     *\n     * @returns true if dot center is within bounds, false otherwise.\n     */\n    function dotPositionIsWithinSquare(dotPosition: Point) {\n      const dotLocation = calculatePositionWithinSquare(dotPosition);\n      if (\n        dotLocation.x < 0 ||\n        dotLocation.x > SQUARE_SIDE_LENGTH ||\n        dotLocation.y < 0 ||\n        dotLocation.y > SQUARE_SIDE_LENGTH\n      ) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n\n    /**\n     * Calculates a position relative to the square's coordinate system.\n     *\n     * @remarks This function is needed because the dot's position is\n     * relative to the scene's coordinate system.\n     *\n     * @returns location Point\n     */\n    function calculatePositionWithinSquare(position: Point): Point {\n      // upper left corner of square on the scene's coordinate system\n      const squareOrigin =\n        locationSelectionSquare.position.x - SQUARE_SIDE_LENGTH / 2;\n      const squareOriginY =\n        locationSelectionSquare.position.y - SQUARE_SIDE_LENGTH / 2;\n      const x = position.x - squareOrigin;\n      const y = position.y - squareOriginY;\n      return { x, y };\n    }\n\n    let currentInteractionIsDrag = false;\n\n    locationSelectionScene.onPointerUp((pointerEvent) => {\n      if (currentInteractionIsDrag) {\n        return;\n      }\n      if (!dotPositionIsWithinSquare(pointerEvent.point)) {\n        return;\n      }\n\n      locationSelectionDot.position = {\n        x: pointerEvent.point.x,\n        y: pointerEvent.point.y,\n      };\n      if (dotPositionIsFullyWithinSquare(locationSelectionDot.position)) {\n        locationSelectionDoneButton.hidden = false;\n      } else {\n        locationSelectionDoneButton.hidden = true;\n      }\n    });\n\n    locationSelectionScene.onSetup(() => {\n      const trialConfiguration = trialConfigurations[game.trialIndex];\n      const colorSelectionDotIndex = trialConfiguration.colorSelectionDotIndex;\n\n      locationSelectionDoneButton.hidden = true;\n      locationSelectionSquare.removeAllChildren();\n\n      const priorColorSelectedDot = new Shape({\n        circleOfRadius: dotDiameter / 2,\n        fillColor: selectedRgba,\n        strokeColor: WebColors.Black,\n        lineWidth: 2,\n        position: {\n          x:\n            trialConfiguration.dots[colorSelectionDotIndex].x -\n            SQUARE_SIDE_LENGTH / 2,\n          y:\n            trialConfiguration.dots[colorSelectionDotIndex].y -\n            SQUARE_SIDE_LENGTH / 2,\n        },\n      });\n      locationSelectionSquare.addChild(priorColorSelectedDot);\n\n      let locationSelectionDotIndex = -1;\n      do {\n        locationSelectionDotIndex = RandomDraws.SingleFromRange(\n          0,\n          numberOfDots - 1,\n        );\n        if (\n          Equal.rgbaColor(\n            trialConfiguration.dots[locationSelectionDotIndex].rgbaColor,\n            selectedRgba,\n          )\n        ) {\n          locationSelectionDotIndex = -1;\n        }\n        if (locationSelectionDotIndex === colorSelectionDotIndex) {\n          locationSelectionDotIndex = -1;\n        }\n      } while (locationSelectionDotIndex === -1);\n\n      trialConfiguration.locationSelectionDotIndex = locationSelectionDotIndex;\n\n      locationSelectionDot = new Shape({\n        circleOfRadius: dotDiameter / 2,\n        fillColor: trialConfiguration.dots[locationSelectionDotIndex].rgbaColor,\n        position: { x: 345, y: 75 },\n        isUserInteractionEnabled: true,\n        draggable: true,\n      });\n      locationSelectionScene.addChild(locationSelectionDot);\n\n      location_target = {\n        x: trialConfiguration.dots[locationSelectionDotIndex].x,\n        y: trialConfiguration.dots[locationSelectionDotIndex].y,\n        color_name:\n          trialConfiguration.dots[locationSelectionDotIndex].colorName,\n        color_rgba:\n          trialConfiguration.dots[locationSelectionDotIndex].rgbaColor,\n      };\n\n      const presentedDots = [];\n      for (let i = 0; i < trialConfiguration.dots.length; i++) {\n        const dot = {\n          color_name: trialConfiguration.dots[i].colorName,\n          rgba_color: trialConfiguration.dots[i].rgbaColor,\n          location: {\n            x: trialConfiguration.dots[i].x,\n            y: trialConfiguration.dots[i].y,\n          },\n        };\n        presentedDots.push(dot);\n      }\n      game.addTrialData(\"presented_dots\", presentedDots);\n      game.addTrialData(\n        \"color_target_dot_index\",\n        trialConfiguration.colorSelectionDotIndex,\n      );\n      game.addTrialData(\n        \"location_target_dot_index\",\n        trialConfiguration.locationSelectionDotIndex,\n      );\n\n      if (!selectedRgba) {\n        throw new M2Error(\"no selected color!\");\n      }\n      priorColorSelectedDot.fillColor = selectedRgba;\n\n      locationSelectionDot.onTapDown((tapEvent) => {\n        /** Prevent other nodes from receiving the tap event.\n         * Specifically, this prevents the quit button from being pressed if\n         * the user taps on the dot. Note: the dot placement on the\n         * square listens for PointerDown, so that will not be affected. */\n        tapEvent.handled = true;\n      });\n\n      locationSelectionDot.onDragStart(() => {\n        currentInteractionIsDrag = true;\n      });\n\n      locationSelectionDot.onDrag(() => {\n        if (dotPositionIsFullyWithinSquare(locationSelectionDot.position)) {\n          locationSelectionDoneButton.hidden = false;\n        } else {\n          locationSelectionDoneButton.hidden = true;\n        }\n      });\n\n      locationSelectionDot.onDragEnd(() => {\n        currentInteractionIsDrag = false;\n\n        if (dotPositionIsFullyWithinSquare(locationSelectionDot.position)) {\n          locationSelectionDoneButton.hidden = false;\n        } else {\n          locationSelectionDoneButton.hidden = true;\n        }\n      });\n    });\n\n    locationSelectionScene.onAppear(() => {\n      Timer.startNew(\"locationRt\");\n    });\n\n    let locationRt = -1;\n\n    const locationSelectionDoneButton = new Button({\n      position: { x: 200, y: 650 },\n      text: \"DONE_BUTTON_TEXT\",\n      hidden: true,\n      isUserInteractionEnabled: true,\n    });\n    locationSelectionDoneButton.onTapDown(() => {\n      Timer.stop(\"locationRt\");\n      locationRt = Timer.elapsed(\"locationRt\");\n      Timer.remove(\"locationRt\");\n      game.addTrialData(\"location_selection_response_time_ms\", locationRt);\n      game.addTrialData(\n        \"trial_end_iso8601_timestamp\",\n        new Date().toISOString(),\n      );\n      locationSelectionScene.removeChild(locationSelectionDot);\n\n      const location_selected = calculatePositionWithinSquare(\n        locationSelectionDot.position,\n      );\n      game.addTrialData(\"location_selected\", location_selected);\n      game.addTrialData(\"square_side_length\", SQUARE_SIDE_LENGTH);\n      const delta = Math.sqrt(\n        Math.pow(location_selected.x - location_target.x, 2) +\n          Math.pow(location_selected.y - location_target.y, 2),\n      );\n      game.addTrialData(\"location_selected_delta\", delta);\n      game.addTrialData(\"quit_button_pressed\", false);\n      game.addTrialData(\"trial_index\", game.trialIndex);\n      game.trialComplete();\n      if (game.trialIndex < game.getParameter<number>(\"number_of_trials\")) {\n        game.presentScene(fixationScene);\n      } else {\n        if (game.getParameter(\"show_trials_complete_scene\")) {\n          game.presentScene(\n            doneScene,\n            Transition.slide({\n              direction: TransitionDirection.Left,\n              duration: 500,\n              easing: Easings.sinusoidalInOut,\n            }),\n          );\n        } else {\n          game.end();\n        }\n      }\n    });\n    locationSelectionScene.addChild(locationSelectionDoneButton);\n\n    // ==============================================================\n    // SCENE: done. Show done message, with a button to exit.\n    const doneScene = new Scene();\n    game.addScene(doneScene);\n\n    const doneSceneText = new Label({\n      text: \"TRIALS_COMPLETE_SCENE_TEXT\",\n      position: { x: 200, y: 400 },\n    });\n    doneScene.addChild(doneSceneText);\n\n    const okButton = new Button({\n      text: \"TRIALS_COMPLETE_SCENE_BUTTON_TEXT\",\n      position: { x: 200, y: 650 },\n    });\n    okButton.isUserInteractionEnabled = true;\n    okButton.onTapDown(() => {\n      // don't allow repeat taps of ok button\n      okButton.isUserInteractionEnabled = false;\n      doneScene.removeAllChildren();\n      game.end();\n    });\n    doneScene.addChild(okButton);\n    doneScene.onSetup(() => {\n      // no need to have cancel button, because we're done\n      game.removeAllFreeNodes();\n    });\n  }\n}\n\nexport { ColorDots };\n"],"names":[],"mappings":"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"}